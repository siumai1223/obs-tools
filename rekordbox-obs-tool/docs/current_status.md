# 現状の記録

## 2024-05-31 開発状況

### 実装済み機能
1. rekordboxデータベースへの接続
   - pyrekordboxライブラリを使用
   - データベースキーの自動取得に対応
   - 基本的な曲情報（タイトル、アーティスト、キー）の取得が可能

2. 曲情報の取得
   - タイトル、アーティスト名の取得
   - キー情報の取得と整形（例：Abm, Dm）
   - アルバム、ジャンル情報の取得

### 既知の問題
1. BPM情報
   - 現在BPMが常に0として取得される問題
   - pyrekordboxライブラリでのBPM取得方法の調査が必要

2. アートワーク情報
   - アートワーク情報が取得できない問題
   - データベース上のアートワーク情報が失われている可能性
   - 外部ソース（iTunes等）からの再取得機能の実装を検討中

3. 現在再生中の曲情報
   - リアルタイムでの再生中の曲情報取得が未実装
   - 現在はデータベース内の最初の曲を表示

### 次のステップ
1. BPM取得の修正
   - pyrekordboxライブラリのBPM取得機能の調査
   - 必要に応じてライブラリの修正やPR提出

2. アートワーク情報の復元（新規ブランチで対応予定）
   - iTunesなどの外部ソースからアートワーク取得
   - rekordboxデータベースへのアートワーク適用
   - 詳細な実装方法は検討中

3. OBS連携機能の実装
   - 現在再生中の曲情報をOBSに表示
   - テキストソースの自動更新機能

### 注意点
1. データベース操作
   - バックアップ/リストア機能は予期せぬデータ損失の可能性があるため廃止
   - データベースの直接操作は慎重に行う必要あり

2. 開発方針
   - 機能追加時は適切にブランチを分ける
   - テスト駆動開発の導入を検討 